# Async Agent Configuration

# Database Configuration
# PostgreSQL connection string with connection pooling parameters
# Format: postgresql://user:password@host:port/database?schema=public&connection_limit=5
DATABASE_URL=postgresql://user:password@localhost:5432/async_agent?schema=public&connection_limit=5

# Required: Anthropic API Key
ANTHROPIC_API_KEY=sk-ant-...

# Server Configuration
PORT=3001
NODE_ENV=development

# Agent Configuration
AGENT_MODEL=claude-sonnet-4-20250514
AGENT_TIMEOUT_MS=300000

# Request Timeout (6 minutes default)
REQUEST_TIMEOUT_MS=360000

# Rate Limiting
RATE_LIMIT_MAX=60
RATE_LIMIT_WINDOW_MS=60000

# CORS (comma-separated origins, or * for all)
CORS_ORIGIN=*

# Optional: Supabase for file storage and result persistence
# If not set, files won't be uploaded and results won't be stored
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-key
SUPABASE_STORAGE_BUCKET=agent-files

# File Upload Limits
MAX_FILE_SIZE_MB=50

# Optional: Comma-separated list of tools to disallow
# DISALLOWED_TOOLS=Bash,Write

# Optional: System prompt override (or use prompts/system.md)
# SYSTEM_PROMPT=You are a helpful assistant...

# Optional: User prompt prefix (or use prompts/user.md)
# USER_PROMPT_PREFIX=Please help with:

# MCP Connections (JSON format)
# This is how you configure MCP servers when using the default env middleware
# For dynamic connections, implement your own connections middleware
#
# Example:
# MCP_CONNECTIONS={"my-mcp-server":{"command":"node","args":["path/to/server.js"],"env":{"API_KEY":"secret"}}}
MCP_CONNECTIONS={}
